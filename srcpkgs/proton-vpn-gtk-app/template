# Template file for 'proton-vpn-gtk-app'
pkgname=proton-vpn-gtk-app
version=4.14.0
revision=1
build_style=python3-module
hostmakedepends="python3-setuptools"
depends="python3-cairo python3-dbus python3-distro python3-gobject python3-packaging
 python3-requests python3-proton-core python3-proton-keyring-linux python3-proton-vpn-api-core
 python3-proton-vpn-local-agent python3-proton-vpn-network-manager gtk+3 libnotify"
checkdepends="python3-pytest python3-pytest-cov python3-pytest-xvfb ${depends}"
short_desc="Proton VPN GTK application"
maintainer="SyFloG <syflog@pm.me>"
license="GPL-3.0-or-later"
homepage="https://github.com/ProtonVPN/proton-vpn-gtk-app"
distfiles="https://github.com/ProtonVPN/proton-vpn-gtk-app/archive/refs/tags/v${version}.tar.gz"
checksum=540d517a4114ef24a45d86f7787ced833a0f1db659869c118376e073528419eb

do_install()
{
	python setup.py install --root="${DESTDIR}"

	vmkdir /usr/share/applications
	vcopy rpmbuild/SOURCES/proton.vpn.app.gtk.desktop /usr/share/applications/protonvpn-gtk.desktop

	vmkdir /usr/share/icons/hicolor/scalable/apps
	vcopy rpmbuild/SOURCES/proton-vpn-logo.svg /usr/share/icons/hicolor/scalable/apps

	vlicense LICENSE
}
