# Template file for 'protonvpn-gtk'
pkgname=protonvpn-gtk
version=4.12.0
revision=1
build_style=python3-module
hostmakedepends="python3-setuptools"
depends="python3 python3-cairo python3-dbus python3-distro python3-gobject python3-packaging
 python3-requests python3-proton-core python3-proton-keyring-linux python3-proton-vpn-api-core
 python3-proton-vpn-local-agent python3-proton-vpn-network-manager gtk+3 libwebkit2gtk41"
checkdepends="python3-pytest python3-pytest-cov python3-pytest-xvfb libnotify ${depends}"
short_desc="Proton VPN GTK application"
maintainer="SyFloG <syflog@pm.me>"
license="GPL-3.0-or-later"
homepage="https://github.com/ProtonVPN/proton-vpn-gtk-app"
distfiles="https://github.com/ProtonVPN/proton-vpn-gtk-app/archive/refs/tags/v${version}.tar.gz"
checksum=c3705658aa416869a95e32e4e30223fd95f275db60d76d2f29d803d88c7efdef

do_install()
{
	python setup.py install --root="${DESTDIR}"

	vmkdir /usr/share/applications
	vcopy rpmbuild/SOURCES/proton.vpn.app.gtk.desktop /usr/share/applications/protonvpn-gtk.desktop
	vlicense LICENSE
}
